{% extends "layout.html" %}
{% block content %}
<div class="card shadow-sm p-4">
  <h3 class="mb-3">Hash Result</h3>

  {% if error %}
    <div class="alert alert-danger">{{ error }}</div>
  {% endif %}

  <div class="mb-2">
    <strong>Algorithm:</strong> {{ algorithm }}
  </div>

  {% if filename %}
  <div class="mb-2">
    <strong>File:</strong> {{ filename }}
  </div>
  {% endif %}

  <div class="mb-3">
    <label class="form-label">Hash</label>
    <textarea class="form-control" id="hashOutput" rows="4" readonly>{{ hash_result }}</textarea>
  </div>

  <div class="d-flex gap-2">
    <button class="btn btn-success" id="copyBtn">Copy hash</button>
    <a class="btn btn-outline-secondary" href="{{ url_for('index') }}">New</a>
  </div>
</div>

<script>
document.getElementById('copyBtn').addEventListener('click', function(){
    const ta = document.getElementById('hashOutput');
    ta.select();
    navigator.clipboard.writeText(ta.value).then(()=>{
        // small user-friendly toast
        alert('Hash copied to clipboard');
    }).catch(() => {
        // fallback
        document.execCommand('copy');
        alert('Copied (fallback)');
    });
});
</script>
{% endblock %}


